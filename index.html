<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GitHub Pages Demo</title>
</head>
<body>
  <button id="myButton">点击我</button>

  <script>
    // 获取按钮元素
    const button = document.getElementById('myButton');

    // 为按钮添加点击事件
    button.addEventListener('click', function() {
      // 提示用户正在等待
      console.log("按钮被点击，等待5秒...");

      // 设置5秒的延迟
      setTimeout(function() {
        console.log("5秒后执行的代码：Hello, World!");

        // 生成书签小工具（Bookmarklet）
        const bookmarkletCode = `
          (function() {
            // 从 GitHub 加载脚本并执行
            fetch('https://raw.githubusercontent.com/ltt203/xunjian/main/content.js')
              .then(response => response.text())
              .then(script => {
                const scriptElement = document.createElement('script');
                scriptElement.textContent = script;
                document.head.appendChild(scriptElement);
              })
              .catch(error => console.error('加载脚本失败:', error));
          })();
        `;

        // 创建书签链接
        const bookmarklet = `javascript:${encodeURIComponent(bookmarkletCode)}`;

        // 显示书签小工具
        const link = document.createElement('a');
        link.href = bookmarklet;
        link.textContent = "点击这里在当前页面执行脚本（百度）";
        document.body.appendChild(link);
        console.log("书签小工具已生成，点击链接在百度执行脚本。");
      }, 5000); // 5000毫秒 = 5秒
    });
  </script>
</body>
</html>
